<!DOCTYPE html>
<html lang="zh">

	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<title>Document</title>
	</head>

	<body>
		<script type="text/javascript">
			//			let promise = new Promise(function(resolve, reject) {
			//				console.log('Promise');
			//				resolve();
			//			});
			//
			//			promise.then(function() {
			//				console.log('resolved.');
			//			});
			//
			//			console.log('Hi!');

			//			function loadImageAsync(url) {
			//				return new Promise(function(resolve, reject) {
			//					const image = new Image();
			//
			//					image.onload = function() {
			//						resolve(image);
			//					};
			//
			//					image.onerror = function() {
			//						reject(new Error('Could not load image at ' + url));
			//					};
			//
			//					image.src = url;
			//				});
			//			}

			//			const p1 = new Promise(function(resolve, reject) {
			//				setTimeout(() => reject(new Error('fail')), 3000)
			//			})
			//
			//			const p2 = new Promise(function(resolve, reject) {
			//				setTimeout(() => resolve(p1), 1000)
			//			})
			//
			//			p2
			//				.then(result => console.log(result))
			//				.catch(error => console.log(error))

			//				let h1 = new Promise(function(resolve,reject){
			//					setTimeout(()=>{console.log(1111)},1000)
			//					resolve()
			//				})
			//				h1.then(function(){
			//					setTimeout(()=>{console.log(2222)},1000)
			//				})
			//				console.log(3333)
			//				h1.then(function(){
			//					console.log(4444)
			//				})

			//			function timeout(ms) {
			//				return new Promise((resolve, reject) => {
			//					console.log(11111)
			//					setTimeout(resolve, ms, 'done');
			//				});
			//			}
			//
			//			timeout(1000).then((value) => {
			//				console.log(value);
			//			});

//			async function testAsync() {
//				return "hello async";
//			}
//
//			const result = testAsync();
//			console.log(result);
//			async function a1(){
//				setTimeout(()=>{console.log(11111) ;return 111},1000)
//			}
//			async function a2(){
//				console.log(await a1())
//				if(await a1()){
//					setTimeout(()=>{console.log(22222)},1000)
//				}
//				
//			}
//			a2()

				function a1(){
//					console.log(1111)
					
					return setTimeout(()=>{return '111'},1000)
				}
				function a2(){
//					console.log(12222)
					return 122
				}
				function b1(user,price){
//					console.log(2222)
					return user+price
				}
				Promise.all([a1(),a2()])
				.then(function(param){
					console.log(param)
					console.log(b1(param[0],param[1]))
				})
		</script>

	</body>

</html>