<!DOCTYPE html>
<html lang="zh">

<head>
	<meta charset="UTF-8" />

	<meta name="viewport"
		content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no,viewport-fit=cover" />
	<meta http-equiv="X-UA-Compatible" content="ie=edge" />
	<title>Document</title>
	<style type="text/css">
		* {
			padding: 0;
			margin: 0;
			/* box-sizing: border-box; */
		}

		html,
		body {
			/* height: 100%; */
		}

		body {
			padding-bottom: constant(safe-area-inset-bottom);
			padding-bottom: env(safe-area-inset-bottom);
			background: yellowgreen;
		}

		.header {
			position: fixed;
			top: 0;
			width: 100%;
			height: 20px;
			background: forestgreen;
		}

		.main {
			/*height: 100%;*/
			background: aqua;
			/* padding-bottom: constant(safe-area-inset-bottom); */
			/* padding-bottom: env(safe-area-inset-bottom); */
		}

		.footer {
			position: fixed;
			/*bottom: 0;*/
			width: 100%;
			height: 20px;
			background: forestgreen;
			bottom: constant(safe-area-inset-bottom);
			bottom: env(safe-area-inset-bottom);
		}
	</style>
</head>

<body>

	<!--<div class="header"></div>-->
	<div class="main">
		<p>fsjaklfjasklfjasklfjkas</p>
		<a href="https://mobile.yangkeduo.com/app.html?launch_url=duo_three_red_packet.html%3Fpid%3D8790023_74273095%26cpsSign%3DCR_190626_8790023_74273095_75bf175100e4f5060001c240adbe2197%26duoduo_type%3D2">跳转拼多多多多多多多多</a>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
		<p>fsjaklfjasklfjasklfjkas</p>
	</div>
	<div class="footer">
		<a href="./iphonex适配-bs.html">跳转bs</a>
		<span class="getHeight">获取高度</span>
	</div>

	<script src="../jquery-3.3.1.min.js"></script>
	<script type="text/javascript">
		function getHeight() {
			var h = `${window.screen.height}+++${document.documentElement.clientHeight}++++${$('body').outerHeight()}`
			document.querySelector('.main p').innerHTML = h
		}
		getHeight()
		$('.getHeight').on('click', function () {
			document.querySelector('.main p').innerHTML = '222222'
			setTimeout(() => {
				getHeight()
			}, 500)

		})
		
		/*8p 
		 * wx  736,672
		 	qq浏览器 736 616
		 	safari 736 622
		 	
		 	6
		 	wx 667 603
		 	qq浏览器 667 547
		 	safari 667 553
			 
			 i4 812 690  =122 44状态栏 44导航栏 34虚拟home  
			 标签栏 49 


				i4上把xr也当做x来处理  414/375=1.104

			 xr
			 safari 896  719 
			 wx 896 808   100vh=100% 774
			 wx 有底部返回 896 725
			 i4 812 690  100vh=100% 690 
			 i4 bs 812 690 690(100vh) 656(100%)
			 
			 690 724

			i4 当用100%的时候没有把底部的34加上；100vh时加上了；
			wx 100%的时候就加上了
			也就是给的可见区域高度不同
			但是当文档高度被撑高时，fixed定位还是可以到最底部，
			再但是滚动到底部后再往上拉，fixed定位的会被拉上去

			 用自带的滚动，i4就和其他浏览器表现一样；但是用bs i4就会自己加上底部，却可视区域高度一直是690
			 后发现 原来是当body设置为100%的时候就会自动加上,此时body高度656,100vh就是690

			 body 高度设置了100%后如果内部高度超过它，则其设置的padding-bottom就没用了


			 关键字：
			 	100vh与100%，
				 可见区域高度不同
				 有tabbar的uni减去了34px
				 
		 * */
	</script>
</body>

</html>