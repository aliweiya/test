<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        html,body{
            width: 100%;
            height:100%;
        }
        *{
            padding:0;
            margin: 0;
        }
        #c1{
            background: #1b322c;
        }
    </style>
</head>
<body>
    <canvas id="c1"></canvas>

    <script>


        var c1 = document.getElementById('c1');
        var w = c1.width = window.innerWidth;
        var h = c1.height = window.innerHeight;
//        var w = c1.width = 100%;
//        var h = c1.height = 1000;
        var cxt = c1.getContext('2d');
        var nums = 2;//生成个数
        var Obj = [];//保存属性
        var colors=['red','blue','green','yellow'];//颜色设置
        c1.onmousemove = function(ev){
            var x = ev.clientX;
            var y = ev.clientY;
            for(var i=0;i<nums;i++){

                var o = {
//                    x:Math.random()*30+x,
//                    y:Math.random()*30+y,
                    x:x,
                    y:y,
                    r:Math.round(Math.random()*20+1),
                    color:colors[Math.floor(Math.random()*colors.length)],
                    vx:Math.random()*3-3,
                    vy:Math.random()*3-3
                }
                Obj.push(o);
                if(Obj.length == 300){
                    Obj.shift();
                }//考虑到性能，维持在300个
//                circle(cxt,Obj[i].x,Obj[i].y,Obj[i].r,Obj[i].color)
                circle(cxt,x,y,20,'yellow')
            }
        };//获取随机圆的属性

        //画圆
        function circle(cxt,x,y,r,color){
            cxt.save();
            cxt.beginPath();
            cxt.arc(x,y,r,0,2*Math.PI);
            cxt.fillStyle = color;
            cxt.fill();
            cxt.restore();
        }

//        !function animate(){
//            cxt.clearRect(0,0,w,h);
//            for(var i=0;i<Obj.length;i++){
//                Obj[i].x += Obj[i].vx;
//                Obj[i].y += Obj[i].vy;
//                if(Obj[i].x>w||Obj[i].x<0){
//                    Obj[i].vx = -Obj[i].vx;
//                }else if(Obj[i].y>h||Obj[i].y<0){
//                    Obj[i].vy = -Obj[i].vy;
//                }//边缘检测
//
//                circle(cxt,Obj[i].x,Obj[i].y,Obj[i].r,Obj[i].color)
//
//            }
//
//
//            window.requestAnimationFrame(animate);
//        }();//重复绘制 == 动画
    </script>
</body>
</html>